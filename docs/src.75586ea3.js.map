{"version":3,"sources":["apiService.js","../node_modules/basiclightbox/dist/basicLightbox.min.js","index.js"],"names":["amountRow","Math","floor","window","innerWidth","apiKey","searchQuery","page","fetchGAlleryImage","url","fetch","then","res","json","hits","catch","error","console","log","query","value","resetPage","searchFormRef","document","querySelector","searchBtnRef","loadMoreBtnRef","clearBtnRef","spinnerRef","scrollUpBtnRef","galleryRef","searchImage","event","preventDefault","form","currentTarget","elements","clearHits","reset","classList","add","remove","updateGalleryMarkup","scrollTo","top","documentElement","offsetHeight","behavior","finally","markup","map","item","webformatURL","largeImageURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML","openModal","target","nodeName","dataset","largeimg","alt","basicLightbox","create","show","clearPage","innerHTML","scrollUp","addEventListener"],"mappings":"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","file":"src.75586ea3.js","sourceRoot":"..\\src","sourcesContent":["const amountRow = Math.floor(window.innerWidth / 360) * 3;\r\nconst apiKey = '23544458-47d8a7ce6c6a4e594a1925349';\r\n\r\nexport default {\r\n  searchQuery: '',\r\n  page: 1,\r\n\r\n  fetchGAlleryImage() {\r\n    const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.searchQuery}&page=${this.page}&per_page=${amountRow}&key=${apiKey}`;\r\n\r\n    return fetch(url)\r\n      .then(res => res.json())\r\n      .then(({ hits }) => {\r\n        this.page += 1;\r\n        return hits;\r\n      })\r\n      .catch(error => console.log(error));\r\n  },\r\n  get query() {\r\n    return this.searchQuery;\r\n  },\r\n  set query(value) {\r\n    this.searchQuery = value;\r\n  },\r\n  resetPage() {\r\n    this.page = 1;\r\n  },\r\n};\r\n","!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).basicLightbox=e()}}((function(){return function e(n,t,o){function r(c,u){if(!t[c]){if(!n[c]){var s=\"function\"==typeof require&&require;if(!u&&s)return s(c,!0);if(i)return i(c,!0);var a=new Error(\"Cannot find module '\"+c+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var l=t[c]={exports:{}};n[c][0].call(l.exports,(function(e){return r(n[c][1][e]||e)}),l,l.exports,e,n,t,o)}return t[c].exports}for(var i=\"function\"==typeof require&&require,c=0;c<o.length;c++)r(o[c]);return r}({1:[function(e,n,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.create=t.visible=void 0;var o=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=document.createElement(\"div\");return t.innerHTML=e.trim(),!0===n?t.children:t.firstChild},r=function(e,n){var t=e.children;return 1===t.length&&t[0].tagName===n},i=function(e){return null!=(e=e||document.querySelector(\".basicLightbox\"))&&!0===e.ownerDocument.body.contains(e)};t.visible=i;t.create=function(e,n){var t=function(e,n){var t=o('\\n\\t\\t<div class=\"basicLightbox '.concat(n.className,'\">\\n\\t\\t\\t<div class=\"basicLightbox__placeholder\" role=\"dialog\"></div>\\n\\t\\t</div>\\n\\t')),i=t.querySelector(\".basicLightbox__placeholder\");e.forEach((function(e){return i.appendChild(e)}));var c=r(i,\"IMG\"),u=r(i,\"VIDEO\"),s=r(i,\"IFRAME\");return!0===c&&t.classList.add(\"basicLightbox--img\"),!0===u&&t.classList.add(\"basicLightbox--video\"),!0===s&&t.classList.add(\"basicLightbox--iframe\"),t}(e=function(e){var n=\"string\"==typeof e,t=e instanceof HTMLElement==1;if(!1===n&&!1===t)throw new Error(\"Content must be a DOM element/node or string\");return!0===n?Array.from(o(e,!0)):\"TEMPLATE\"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=\"\"),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),\"boolean\"!=typeof e.closable)throw new Error(\"Property `closable` must be a boolean\");if(\"string\"!=typeof e.className)throw new Error(\"Property `className` must be a string\");if(\"function\"!=typeof e.onShow)throw new Error(\"Property `onShow` must be a function\");if(\"function\"!=typeof e.onClose)throw new Error(\"Property `onClose` must be a function\");return e}(n)),c=function(e){return!1!==n.onClose(u)&&function(e,n){return e.classList.remove(\"basicLightbox--visible\"),setTimeout((function(){return!1===i(e)||e.parentElement.removeChild(e),n()}),410),!0}(t,(function(){if(\"function\"==typeof e)return e(u)}))};!0===n.closable&&t.addEventListener(\"click\",(function(e){e.target===t&&c()}));var u={element:function(){return t},visible:function(){return i(t)},show:function(e){return!1!==n.onShow(u)&&function(e,n){return document.body.appendChild(e),setTimeout((function(){requestAnimationFrame((function(){return e.classList.add(\"basicLightbox--visible\"),n()}))}),10),!0}(t,(function(){if(\"function\"==typeof e)return e(u)}))},close:c};return u}},{}]},{},[1])(1)}));","import apiService from './apiService';\nimport './sass/main.scss';\n\nimport '../node_modules/basiclightbox/dist/basicLightbox.min.css';\nimport * as basicLightbox from 'basiclightbox';\n\nconst searchFormRef = document.querySelector('.search-form');\nconst searchBtnRef = document.querySelector('.btn-search-js');\nconst loadMoreBtnRef = document.querySelector('.btn-primary-js');\nconst clearBtnRef = document.querySelector('.btn-clear-js');\nconst spinnerRef = document.querySelector('.spinner');\nconst scrollUpBtnRef = document.querySelector('.btn-scroll-js');\n\nconst galleryRef = document.querySelector('.js-gallery');\n\nsearchFormRef.addEventListener('submit', searchImage);\nsearchBtnRef.addEventListener('submit', searchImage);\nloadMoreBtnRef.addEventListener('click', fetchGAlleryImage);\nclearBtnRef.addEventListener('click', clearPage);\nscrollUpBtnRef.addEventListener('click', scrollUp);\ngalleryRef.addEventListener('click', openModal);\n\nfunction searchImage(event) {\n  event.preventDefault();\n\n  const form = event.currentTarget;\n  apiService.query = form.elements.query.value;\n\n  clearHits();\n  apiService.resetPage();\n\n  fetchGAlleryImage();\n  form.reset();\n}\n\nfunction fetchGAlleryImage() {\n  loadMoreBtnRef.classList.add('is-hidden');\n  scrollUpBtnRef.classList.add('is-hidden');\n\n  spinnerRef.classList.remove('is-hidden');\n\n  apiService\n    .fetchGAlleryImage()\n    .then(hits => {\n      updateGalleryMarkup(hits);\n      loadMoreBtnRef.classList.remove('is-hidden');\n      scrollUpBtnRef.classList.remove('is-hidden');\n\n      window.scrollTo({\n        top: document.documentElement.offsetHeight,\n        behavior: 'smooth',\n      });\n    })\n    .finally(() => {\n      spinnerRef.classList.add('is-hidden');\n    });\n}\n\nfunction updateGalleryMarkup(hits) {\n  const markup = hits\n    .map(item => {\n      return `<li class=\"gallety-item\">\n      \n      <div class=\"photo-card\">\n      <img class=\"gallery-img\" width=\"500\" height=\"150\" src=\"${item.webformatURL}\" data-largeimg=\"${item.largeImageURL}\" alt\"${item.tags}\">\n  <div class=\"stats\">\n    <p class=\"stats-item\"> ${item.likes}\n     <svg class=\"svg\" style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\">\n    <path d=\"M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z\" />\n     </svg>\n    </p>\n    <p class=\"stats-item\"> ${item.views}\n      <svg class=\"svg\" style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\">\n    <path d=\"M12,2A9,9 0 0,0 3,11C3,14.03 4.53,16.82 7,18.47V22H9V19H11V22H13V19H15V22H17V18.46C19.47,16.81 21,14 21,11A9,9 0 0,0 12,2M8,11A2,2 0 0,1 10,13A2,2 0 0,1 8,15A2,2 0 0,1 6,13A2,2 0 0,1 8,11M16,11A2,2 0 0,1 18,13A2,2 0 0,1 16,15A2,2 0 0,1 14,13A2,2 0 0,1 16,11M12,14L13.5,17H10.5L12,14Z\" />\n      </svg>\n    </p>\n    <p class=\"stats-item\"> ${item.comments}\n      <svg class=\"svg\" style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\">\n    <path d=\"M3 5H21V9H3V5M3 10H21V14H3V10M3 15H21V19H3V15Z\" />\n      </svg>\n    </p>\n    <p class=\"stats-item\"> ${item.downloads}\n      <svg class=\"svg\" style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\">\n    <path d=\"M10,4H14V13L17.5,9.5L19.92,11.92L12,19.84L4.08,11.92L6.5,9.5L10,13V4Z\" />\n      </svg>\n    </p>\n  </div>\n</div>\n    </li>`;\n    })\n    .join('');\n  galleryRef.insertAdjacentHTML('beforeend', markup);\n}\nfunction openModal(event) {\n  const target = event.target;\n\n  if (target.nodeName !== 'IMG') {\n    return;\n  }\n  const url = target.dataset.largeimg;\n  const alt = target.alt;\n\n  basicLightbox.create(`<img src=${url} alt=${alt}>`).show();\n}\nfunction clearPage() {\n  clearHits();\n  loadMoreBtnRef.classList.add('is-hidden');\n  scrollUpBtnRef.classList.add('is-hidden');\n}\nfunction clearHits() {\n  galleryRef.innerHTML = '';\n}\nfunction scrollUp() {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n"]}